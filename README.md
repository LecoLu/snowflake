# snowflake
Twitter的雪花(snowflake)算法,用来生成唯一ID（推文，直接消息，用户，订单等）

使用一个 64 bit 的 long 型的数字作为全局唯一 id。在分布式系统中的应用十分广泛，且ID 引入了时间戳，基本上保持自增。

格式：1bit保留 + 41bit时间戳 + 10bit机器 + 12bit序列号

第一位不使用，主要是为了避免部分场景变成负数；

41位时间戳，也就是2的41次方，毫秒为单位，足够保存69年。这里一般存储1970年以来的毫秒数，建议各个系统根据需要自定义这个开始日期；

10位机器码，理论上可以表示1024台机器，也可以拆分几位表示机房几位表示机器。这里默认采用本机IPv4地址最后两段以及进程Id一起作为机器码，确保机房内部不同机器，以及相同机器上的不同进程，拥有不同的机器码（非绝对，详细看下文）；

12位序列号，表示范围0~4095，一直递增，即使毫秒数加一，这里也不会归零，避免被恶意用户轻易猜测得到前后订单号；
